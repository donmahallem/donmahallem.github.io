!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{bM1r:function(t,r,a){"use strict";a.r(r),a.d(r,"ReposModule",function(){return S});var i,o=a("ofXK"),s=a("f0Cb"),c=a("zkoq"),u=a("MutI"),p=a("tk/3"),f=a("EY2u"),h=a("vkgz"),b=a("JIr8"),v=a("o0su"),g=a("cxbk"),l=a("fXoL"),d=a("tyNb"),m=((i=function(){function t(n,r){e(this,t),this.api=n,this.router=r,this.INT_REGEX=/^([1-9]+|0*[1-9][0-9]+)$/}return n(t,[{key:"validatePage",value:function(e){return this.INT_REGEX.test(e)}},{key:"resolve",value:function(e,t){var n=this,r=1;if(e.params.page){if(!this.validatePage(e.params.page))return this.router.navigate(["repos","list"]),f.a;r=e.params.page}return this.api.getUserRepos(g.a.github.username,25,r).pipe(Object(h.a)(function(e){if(0===e.length&&1!==r)throw new p.c({status:404})}),Object(b.a)(function(e){return 404===e.status&&n.router.navigate(["404"]),f.a}))}}]),t}()).\u0275fac=function(e){return new(e||i)(l.Zb(v.a),l.Zb(d.b))},i.\u0275prov=l.Hb({token:i,factory:i.\u0275fac}),i),k=a("lJxs"),y=a("NFeN"),R=a("FKr1");function w(e,t){if(1&e&&(l.Rb(0,"h3",7),l.qc(1),l.Qb()),2&e){var n=l.ec().$implicit;l.Bb(1),l.rc(n.header)}}function I(e,t){1&e&&l.Mb(0,"mat-divider")}var P=function(e){return["/repo",e]};function L(e,t){if(1&e&&(l.Pb(0),l.pc(1,w,2,1,"h3",1),l.Rb(2,"a",2),l.Rb(3,"mat-icon",3),l.qc(4,"folder"),l.Qb(),l.Rb(5,"h4",4),l.qc(6),l.Qb(),l.Rb(7,"p",5),l.qc(8),l.Qb(),l.Qb(),l.pc(9,I,1,0,"mat-divider",6),l.Ob()),2&e){var n=t.$implicit;l.Bb(1),l.hc("ngIf",n.hasHeader),l.Bb(1),l.hc("routerLink",l.kc(5,P,n.repo.name)),l.Bb(4),l.rc(n.repo.name),l.Bb(2),l.sc(" ",n.repo.updated_at," "),l.Bb(1),l.hc("ngIf",n.hasDivider)}}var C,B=((C=function(){function t(n){e(this,t),this.cdRef=n,this.items=[]}return n(t,[{key:"repositories",set:function(e){this.items=e.sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e,t,n){var r=t>0?n[t-1].name.charAt(0).toUpperCase():"",a=n[t].name.charAt(0).toUpperCase(),i=t<n.length-1?n[t+1].name.charAt(0).toUpperCase():"";return{repo:e,hasDivider:t!==n.length-1&&a!==i,hasHeader:0===t||a!==r,header:a}}),this.cdRef.detectChanges()}}]),t}()).\u0275fac=function(e){return new(e||C)(l.Lb(l.h))},C.\u0275cmp=l.Fb({type:C,selectors:[["app-repo-list"]],inputs:{repositories:"repositories"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["matSubheader","",4,"ngIf"],["mat-list-item","",3,"routerLink"],["matListIcon",""],["matLine",""],["matLine","",1,"demo-2"],[4,"ngIf"],["matSubheader",""]],template:function(e,t){1&e&&(l.Rb(0,"mat-nav-list"),l.pc(1,L,10,7,"ng-container",0),l.Qb()),2&e&&(l.Bb(1),l.hc("ngForOf",t.items))},directives:[u.e,o.h,o.i,u.b,d.d,y.a,u.a,R.b,u.d,s.a],styles:[""],changeDetection:0}),C),O=a("bTqV"),q=function(e){return["/repos",e]};function N(e,t){if(1&e&&(l.Rb(0,"a",2),l.qc(1,"Previos"),l.Qb()),2&e){var n=l.ec();l.hc("routerLink",l.kc(1,q,n.page-1))}}function Q(e,t){if(1&e&&(l.Rb(0,"a",2),l.qc(1,"Next"),l.Qb()),2&e){var n=l.ec();l.hc("routerLink",l.kc(1,q,n.page+1))}}var j,D,F,E,J=((j=function(){function t(n,r){e(this,t),this.activatedRoute=n,this.cdRef=r,this.repos=[],this.page=1}return n(t,[{key:"ngAfterViewInit",value:function(){var e=this;this.updateSubscription=this.activatedRoute.data.pipe(Object(k.a)(function(e){return e.repos})).subscribe(function(t){e.update(t)})}},{key:"getCurrentPage",value:function(){var e=this.activatedRoute.snapshot.params;return e.page?parseInt(e.page,10):1}},{key:"hasNextPage",value:function(){return 25===this.repos.length}},{key:"hasPreviousPage",value:function(){return this.getCurrentPage()>1}},{key:"update",value:function(e){this.repos=e,this.page=this.getCurrentPage(),this.cdRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this.updateSubscription.unsubscribe()}}]),t}()).\u0275fac=function(e){return new(e||j)(l.Lb(d.a),l.Lb(l.h))},j.\u0275cmp=l.Fb({type:j,selectors:[["app-repos-overview"]],decls:3,vars:3,consts:[[3,"repositories"],["mat-stroked-button","","color","accent",3,"routerLink",4,"ngIf"],["mat-stroked-button","","color","accent",3,"routerLink"]],template:function(e,t){1&e&&(l.Mb(0,"app-repo-list",0),l.pc(1,N,2,3,"a",1),l.pc(2,Q,2,3,"a",1)),2&e&&(l.hc("repositories",t.repos),l.Bb(1),l.hc("ngIf",t.hasPreviousPage()),l.Bb(1),l.hc("ngIf",t.hasNextPage()))},directives:[B,o.i,O.a,d.d],styles:[""],changeDetection:0}),j),M=[{path:"",component:J,resolve:{repos:m},pathMatch:"full"},{path:":page",component:J,resolve:{repos:m}}],x=((D=function t(){e(this,t)}).\u0275fac=function(e){return new(e||D)},D.\u0275mod=l.Jb({type:D}),D.\u0275inj=l.Ib({imports:[[d.e.forChild(M)],d.e]}),D),A=a("0DDv"),H=((E=function(){function t(n,r){e(this,t),this.api=n,this.router=r}return n(t,[{key:"resolve",value:function(e,t){var n=this;return this.api.getRepo(g.a.github.username,e.params.reponame).pipe(Object(b.a)(function(e){return 404===e.status&&n.router.navigate(["stops"]),f.a}))}}]),t}()).\u0275fac=function(e){return new(e||E)(l.Zb(v.a),l.Zb(d.b))},E.\u0275prov=l.Hb({token:E,factory:E.\u0275fac}),E),S=((F=function t(){e(this,t)}).\u0275fac=function(e){return new(e||F)},F.\u0275mod=l.Jb({type:F}),F.\u0275inj=l.Ib({providers:[m,H],imports:[[o.b,x,c.a,s.b,u.c,A.a]]}),F)}}])}();