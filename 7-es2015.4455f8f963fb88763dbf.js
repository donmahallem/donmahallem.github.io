(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{bM1r:function(e,t,r){"use strict";r.r(t),r.d(t,"ReposModule",function(){return F});var a=r("ofXK"),s=r("f0Cb"),n=r("zkoq"),i=r("MutI"),o=r("tk/3"),c=r("EY2u"),p=r("vkgz"),u=r("JIr8"),h=r("o0su"),b=r("cxbk"),f=r("fXoL"),g=r("tyNb");let d=(()=>{class e{constructor(e,t){this.api=e,this.router=t,this.INT_REGEX=/^([1-9]+|0*[1-9][0-9]+)$/}validatePage(e){return this.INT_REGEX.test(e)}resolve(e,t){let r=1;if(e.params.page){if(!this.validatePage(e.params.page))return this.router.navigate(["repos","list"]),c.a;r=e.params.page}return this.api.getUserRepos(b.a.github.username,25,r).pipe(Object(p.a)(e=>{if(0===e.length&&1!==r)throw new o.c({status:404})}),Object(u.a)(e=>(404===e.status&&this.router.navigate(["404"]),c.a)))}}return e.\u0275fac=function(t){return new(t||e)(f.Zb(h.a),f.Zb(g.b))},e.\u0275prov=f.Hb({token:e,factory:e.\u0275fac}),e})();var l=r("lJxs"),m=r("NFeN"),v=r("FKr1");function R(e,t){if(1&e&&(f.Rb(0,"h3",7),f.qc(1),f.Qb()),2&e){const e=f.ec().$implicit;f.Bb(1),f.rc(e.header)}}function k(e,t){1&e&&f.Mb(0,"mat-divider")}const w=function(e){return["/repo",e]};function I(e,t){if(1&e&&(f.Pb(0),f.pc(1,R,2,1,"h3",1),f.Rb(2,"a",2),f.Rb(3,"mat-icon",3),f.qc(4,"folder"),f.Qb(),f.Rb(5,"h4",4),f.qc(6),f.Qb(),f.Rb(7,"p",5),f.qc(8),f.Qb(),f.Qb(),f.pc(9,k,1,0,"mat-divider",6),f.Ob()),2&e){const e=t.$implicit;f.Bb(1),f.hc("ngIf",e.hasHeader),f.Bb(1),f.hc("routerLink",f.kc(5,w,e.repo.name)),f.Bb(4),f.rc(e.repo.name),f.Bb(2),f.sc(" ",e.repo.updated_at," "),f.Bb(1),f.hc("ngIf",e.hasDivider)}}let L=(()=>{class e{constructor(e){this.cdRef=e,this.items=[]}set repositories(e){this.items=e.sort((e,t)=>e.name.localeCompare(t.name)).map((e,t,r)=>{const a=t>0?r[t-1].name.charAt(0).toUpperCase():"",s=r[t].name.charAt(0).toUpperCase(),n=t<r.length-1?r[t+1].name.charAt(0).toUpperCase():"";return{repo:e,hasDivider:t!==r.length-1&&s!==n,hasHeader:0===t||s!==a,header:s}}),this.cdRef.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(f.Lb(f.h))},e.\u0275cmp=f.Fb({type:e,selectors:[["app-repo-list"]],inputs:{repositories:"repositories"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["matSubheader","",4,"ngIf"],["mat-list-item","",3,"routerLink"],["matListIcon",""],["matLine",""],["matLine","",1,"demo-2"],[4,"ngIf"],["matSubheader",""]],template:function(e,t){1&e&&(f.Rb(0,"mat-nav-list"),f.pc(1,I,10,7,"ng-container",0),f.Qb()),2&e&&(f.Bb(1),f.hc("ngForOf",t.items))},directives:[i.e,a.h,a.i,i.b,g.d,m.a,i.a,v.b,i.d,s.a],styles:[""],changeDetection:0}),e})();var P=r("bTqV");const C=function(e){return["/repos",e]};function y(e,t){if(1&e&&(f.Rb(0,"a",2),f.qc(1,"Previos"),f.Qb()),2&e){const e=f.ec();f.hc("routerLink",f.kc(1,C,e.page-1))}}function B(e,t){if(1&e&&(f.Rb(0,"a",2),f.qc(1,"Next"),f.Qb()),2&e){const e=f.ec();f.hc("routerLink",f.kc(1,C,e.page+1))}}let q=(()=>{class e{constructor(e,t){this.activatedRoute=e,this.cdRef=t,this.repos=[],this.page=1}ngAfterViewInit(){this.updateSubscription=this.activatedRoute.data.pipe(Object(l.a)(e=>e.repos)).subscribe(e=>{this.update(e)})}getCurrentPage(){const e=this.activatedRoute.snapshot.params;return e.page?parseInt(e.page,10):1}hasNextPage(){return 25===this.repos.length}hasPreviousPage(){return this.getCurrentPage()>1}update(e){this.repos=e,this.page=this.getCurrentPage(),this.cdRef.detectChanges()}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(f.Lb(g.a),f.Lb(f.h))},e.\u0275cmp=f.Fb({type:e,selectors:[["app-repos-overview"]],decls:3,vars:3,consts:[[3,"repositories"],["mat-stroked-button","","color","accent",3,"routerLink",4,"ngIf"],["mat-stroked-button","","color","accent",3,"routerLink"]],template:function(e,t){1&e&&(f.Mb(0,"app-repo-list",0),f.pc(1,y,2,3,"a",1),f.pc(2,B,2,3,"a",1)),2&e&&(f.hc("repositories",t.repos),f.Bb(1),f.hc("ngIf",t.hasPreviousPage()),f.Bb(1),f.hc("ngIf",t.hasNextPage()))},directives:[L,a.i,P.a,g.d],styles:[""],changeDetection:0}),e})();const N=[{path:"",component:q,resolve:{repos:d},pathMatch:"full"},{path:":page",component:q,resolve:{repos:d}}];let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.Jb({type:e}),e.\u0275inj=f.Ib({imports:[[g.e.forChild(N)],g.e]}),e})();var Q=r("0DDv");let D=(()=>{class e{constructor(e,t){this.api=e,this.router=t}resolve(e,t){return this.api.getRepo(b.a.github.username,e.params.reponame).pipe(Object(u.a)(e=>(404===e.status&&this.router.navigate(["stops"]),c.a)))}}return e.\u0275fac=function(t){return new(t||e)(f.Zb(h.a),f.Zb(g.b))},e.\u0275prov=f.Hb({token:e,factory:e.\u0275fac}),e})(),F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.Jb({type:e}),e.\u0275inj=f.Ib({providers:[d,D],imports:[[a.b,O,n.a,s.b,i.c,Q.a]]}),e})()}}]);