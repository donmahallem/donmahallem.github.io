!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(self.webpackChunk_donmahallem_github_page=self.webpackChunk_donmahallem_github_page||[]).push([[920],{920:function(t,r,i){"use strict";i.r(r),i.d(r,{ReposModule:function(){return J}});var a=i(8583),o=i(1769),s=i(4929),u=i(3093),c=i(2916),p=i(6149),f=i(5894),h=i(9019),g=i(7716),l=i(6401),v=i(9927),m=function(){var t=function(){function t(n,r){e(this,t),this.api=n,this.router=r}return n(t,[{key:"resolve",value:function(e,t){var n=this;return this.api.getRepo(h.N.github.username,e.params.reponame).pipe((0,f.K)(function(e){return 404===e.status&&n.router.navigate(["stops"]),p.E}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.LFG(l.q),g.LFG(v.F0))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),t}(),d=i(5207),k=i(4664),y=i(2458);function b(e,t){if(1&e&&(g.TgZ(0,"h3",7),g._uU(1),g.qZA()),2&e){var n=g.oxw().$implicit;g.xp6(1),g.Oqu(n.header)}}function w(e,t){1&e&&g._UZ(0,"mat-divider")}var Z=function(e){return["/repo",e]};function _(e,t){if(1&e&&(g.ynx(0),g.YNc(1,b,2,1,"h3",1),g.TgZ(2,"a",2),g.TgZ(3,"mat-icon",3),g._uU(4,"folder"),g.qZA(),g.TgZ(5,"h4",4),g._uU(6),g.qZA(),g.TgZ(7,"p",5),g._uU(8),g.qZA(),g.qZA(),g.YNc(9,w,1,0,"mat-divider",6),g.BQk()),2&e){var n=t.$implicit;g.xp6(1),g.Q6J("ngIf",n.hasHeader),g.xp6(1),g.Q6J("routerLink",g.VKq(5,Z,n.repo.name)),g.xp6(4),g.Oqu(n.repo.name),g.xp6(2),g.hij(" ",n.repo.updated_at," "),g.xp6(1),g.Q6J("ngIf",n.hasDivider)}}var x=function(){var t=function(){function t(n){e(this,t),this.cdRef=n,this.items=[]}return n(t,[{key:"repositories",set:function(e){this.items=e.sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e,t,n){var r=t>0?n[t-1].name.charAt(0).toUpperCase():"",i=n[t].name.charAt(0).toUpperCase(),a=t<n.length-1?n[t+1].name.charAt(0).toUpperCase():"";return{hasDivider:t!==n.length-1&&i!==a,hasHeader:0===t||i!==r,header:i,repo:e}}),this.cdRef.detectChanges()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.Y36(g.sBO))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-repo-list"]],inputs:{repositories:"repositories"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["matSubheader","",4,"ngIf"],["mat-list-item","",3,"routerLink"],["matListIcon",""],["matLine",""],["matLine","",1,"demo-2"],[4,"ngIf"],["matSubheader",""]],template:function(e,t){1&e&&(g.TgZ(0,"mat-nav-list"),g.YNc(1,_,10,7,"ng-container",0),g.qZA()),2&e&&(g.xp6(1),g.Q6J("ngForOf",t.items))},directives:[u.Hk,a.sg,a.O5,u.Tg,v.yS,k.Hw,u.Nh,y.X2,u.gs,o.d],styles:[""],changeDetection:0}),t}(),q=i(1095),A=function(e){return["/repos",e]};function L(e,t){if(1&e&&(g.TgZ(0,"a",2),g._uU(1,"Previos"),g.qZA()),2&e){var n=g.oxw();g.Q6J("routerLink",g.VKq(1,A,n.page-1))}}function N(e,t){if(1&e&&(g.TgZ(0,"a",2),g._uU(1,"Next"),g.qZA()),2&e){var n=g.oxw();g.Q6J("routerLink",g.VKq(1,A,n.page+1))}}var I,U=function(){var t=function(){function t(n,r){e(this,t),this.activatedRoute=n,this.cdRef=r,this.repos=[],this.page=1}return n(t,[{key:"ngAfterViewInit",value:function(){var e=this;this.updateSubscription=this.activatedRoute.data.pipe((0,d.U)(function(e){return e.repos})).subscribe(function(t){e.update(t)})}},{key:"getCurrentPage",value:function(){var e=this.activatedRoute.snapshot.params;return e.page?parseInt(e.page,10):1}},{key:"hasNextPage",value:function(){return 25===this.repos.length}},{key:"hasPreviousPage",value:function(){return this.getCurrentPage()>1}},{key:"update",value:function(e){this.repos=e,this.page=this.getCurrentPage(),this.cdRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this.updateSubscription.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.Y36(v.gz),g.Y36(g.sBO))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-repos-overview"]],decls:3,vars:3,consts:[[3,"repositories"],["mat-stroked-button","","color","accent",3,"routerLink",4,"ngIf"],["mat-stroked-button","","color","accent",3,"routerLink"]],template:function(e,t){1&e&&(g._UZ(0,"app-repo-list",0),g.YNc(1,L,2,3,"a",1),g.YNc(2,N,2,3,"a",1)),2&e&&(g.Q6J("repositories",t.repos),g.xp6(1),g.Q6J("ngIf",t.hasPreviousPage()),g.xp6(1),g.Q6J("ngIf",t.hasNextPage()))},directives:[x,a.O5,q.zs,v.yS],styles:[""],changeDetection:0}),t}(),C=i(1841),P=i(9922),R=function(){var t=function(){function t(n,r,i){e(this,t),this.platformId=n,this.api=r,this.router=i,this.INT_REGEX=/^([1-9]+|0*[1-9][0-9]+)$/}return n(t,[{key:"validatePage",value:function(e){return this.INT_REGEX.test(e)}},{key:"resolve",value:function(e,t){var n=this,r=1;if(e.params.page){if(!this.validatePage(e.params.page))return this.router.navigate(["repos"]),p.E;r=e.params.page}return this.api.getUserRepos(h.N.github.username,25,r).pipe((0,P.b)(function(e){if(0===e.length&&1!==r)throw new C.UA({status:404})}),(0,f.K)(function(e){return 404===e.status&&(0,a.NF)(n.platformId)?(n.router.navigate(["404"]),p.E):403===e.status?(console.log("Rate limit"),p.E):p.E}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.LFG(g.Lbi),g.LFG(l.q),g.LFG(v.F0))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),t}(),T=[{component:U,path:"",pathMatch:"full",resolve:{repos:R}},{component:U,path:":page",resolve:{repos:R}}],F=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[v.Bz.forChild(T)],v.Bz]}),t}(),J=((I=function t(){e(this,t)}).\u0275fac=function(e){return new(e||I)},I.\u0275mod=g.oAB({type:I}),I.\u0275inj=g.cJS({providers:[R,m],imports:[[a.ez,F,s.N6,o.t,u.ie,c._]]}),I)}}])}();