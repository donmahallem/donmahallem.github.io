(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{bM1r:function(e,t,r){"use strict";r.r(t),r.d(t,"ReposModule",function(){return F});var a=r("ofXK"),s=r("f0Cb"),n=r("zkoq"),i=r("MutI"),o=r("0DDv"),c=r("EY2u"),p=r("JIr8"),u=r("o0su"),h=r("cxbk"),b=r("fXoL"),f=r("tyNb");let g=(()=>{class e{constructor(e,t){this.api=e,this.router=t}resolve(e,t){return this.api.getRepo(h.a.github.username,e.params.reponame).pipe(Object(p.a)(e=>(404===e.status&&this.router.navigate(["stops"]),c.a)))}}return e.\u0275fac=function(t){return new(t||e)(b.Zb(u.a),b.Zb(f.b))},e.\u0275prov=b.Hb({token:e,factory:e.\u0275fac}),e})();var d=r("lJxs"),l=r("NFeN"),m=r("FKr1");function v(e,t){if(1&e&&(b.Rb(0,"h3",7),b.qc(1),b.Qb()),2&e){const e=b.ec().$implicit;b.Bb(1),b.rc(e.header)}}function R(e,t){1&e&&b.Mb(0,"mat-divider")}const k=function(e){return["/repo",e]};function w(e,t){if(1&e&&(b.Pb(0),b.pc(1,v,2,1,"h3",1),b.Rb(2,"a",2),b.Rb(3,"mat-icon",3),b.qc(4,"folder"),b.Qb(),b.Rb(5,"h4",4),b.qc(6),b.Qb(),b.Rb(7,"p",5),b.qc(8),b.Qb(),b.Qb(),b.pc(9,R,1,0,"mat-divider",6),b.Ob()),2&e){const e=t.$implicit;b.Bb(1),b.hc("ngIf",e.hasHeader),b.Bb(1),b.hc("routerLink",b.kc(5,k,e.repo.name)),b.Bb(4),b.rc(e.repo.name),b.Bb(2),b.sc(" ",e.repo.updated_at," "),b.Bb(1),b.hc("ngIf",e.hasDivider)}}let I=(()=>{class e{constructor(e){this.cdRef=e,this.items=[]}set repositories(e){this.items=e.sort((e,t)=>e.name.localeCompare(t.name)).map((e,t,r)=>{const a=t>0?r[t-1].name.charAt(0).toUpperCase():"",s=r[t].name.charAt(0).toUpperCase(),n=t<r.length-1?r[t+1].name.charAt(0).toUpperCase():"";return{hasDivider:t!==r.length-1&&s!==n,hasHeader:0===t||s!==a,header:s,repo:e}}),this.cdRef.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(b.Lb(b.h))},e.\u0275cmp=b.Fb({type:e,selectors:[["app-repo-list"]],inputs:{repositories:"repositories"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["matSubheader","",4,"ngIf"],["mat-list-item","",3,"routerLink"],["matListIcon",""],["matLine",""],["matLine","",1,"demo-2"],[4,"ngIf"],["matSubheader",""]],template:function(e,t){1&e&&(b.Rb(0,"mat-nav-list"),b.pc(1,w,10,7,"ng-container",0),b.Qb()),2&e&&(b.Bb(1),b.hc("ngForOf",t.items))},directives:[i.e,a.h,a.i,i.b,f.d,l.a,i.a,m.b,i.d,s.a],styles:[""],changeDetection:0}),e})();var L=r("bTqV");const P=function(e){return["/repos",e]};function C(e,t){if(1&e&&(b.Rb(0,"a",2),b.qc(1,"Previos"),b.Qb()),2&e){const e=b.ec();b.hc("routerLink",b.kc(1,P,e.page-1))}}function y(e,t){if(1&e&&(b.Rb(0,"a",2),b.qc(1,"Next"),b.Qb()),2&e){const e=b.ec();b.hc("routerLink",b.kc(1,P,e.page+1))}}let B=(()=>{class e{constructor(e,t){this.activatedRoute=e,this.cdRef=t,this.repos=[],this.page=1}ngAfterViewInit(){this.updateSubscription=this.activatedRoute.data.pipe(Object(d.a)(e=>e.repos)).subscribe(e=>{this.update(e)})}getCurrentPage(){const e=this.activatedRoute.snapshot.params;return e.page?parseInt(e.page,10):1}hasNextPage(){return 25===this.repos.length}hasPreviousPage(){return this.getCurrentPage()>1}update(e){this.repos=e,this.page=this.getCurrentPage(),this.cdRef.detectChanges()}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(b.Lb(f.a),b.Lb(b.h))},e.\u0275cmp=b.Fb({type:e,selectors:[["app-repos-overview"]],decls:3,vars:3,consts:[[3,"repositories"],["mat-stroked-button","","color","accent",3,"routerLink",4,"ngIf"],["mat-stroked-button","","color","accent",3,"routerLink"]],template:function(e,t){1&e&&(b.Mb(0,"app-repo-list",0),b.pc(1,C,2,3,"a",1),b.pc(2,y,2,3,"a",1)),2&e&&(b.hc("repositories",t.repos),b.Bb(1),b.hc("ngIf",t.hasPreviousPage()),b.Bb(1),b.hc("ngIf",t.hasNextPage()))},directives:[I,a.i,L.a,f.d],styles:[""],changeDetection:0}),e})();var q=r("tk/3"),N=r("vkgz");let O=(()=>{class e{constructor(e,t){this.api=e,this.router=t,this.INT_REGEX=/^([1-9]+|0*[1-9][0-9]+)$/}validatePage(e){return this.INT_REGEX.test(e)}resolve(e,t){let r=1;if(e.params.page){if(!this.validatePage(e.params.page))return this.router.navigate(["repos","list"]),c.a;r=e.params.page}return this.api.getUserRepos(h.a.github.username,25,r).pipe(Object(N.a)(e=>{if(0===e.length&&1!==r)throw new q.c({status:404})}),Object(p.a)(e=>(404===e.status&&this.router.navigate(["404"]),c.a)))}}return e.\u0275fac=function(t){return new(t||e)(b.Zb(u.a),b.Zb(f.b))},e.\u0275prov=b.Hb({token:e,factory:e.\u0275fac}),e})();const Q=[{component:B,path:"",pathMatch:"full",resolve:{repos:O}},{component:B,path:":page",resolve:{repos:O}}];let D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.Jb({type:e}),e.\u0275inj=b.Ib({imports:[[f.e.forChild(Q)],f.e]}),e})(),F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.Jb({type:e}),e.\u0275inj=b.Ib({providers:[O,g],imports:[[a.b,D,n.a,s.b,i.c,o.a]]}),e})()}}]);